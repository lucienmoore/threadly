<?php

namespace Database\Seeders;

use App\Models\Post;
use Illuminate\Database\Seeder;
use Illuminate\Support\Facades\DB;
use Illuminate\Support\Str;

class PostSeeder extends Seeder
{
    public function run()
    {
        $users = DB::table('users')->pluck('id')->toArray();
        $communities = DB::table('communities')->pluck('id')->toArray();

        $postsData = [
            ['title' => 'Как начать программировать?', 'description' => 'В этом посте мы обсудим, с чего начать изучение программирования и какие ресурсы могут вам помочь.', 'id' => '1'],
            ['title' => 'Лучшие практики веб-разработки', 'description' => 'Обзор лучших практик в разработке веб-приложений, которые помогут улучшить качество вашего кода.', 'id' => '1'],
            ['title' => 'Изучение Python: советы новичкам', 'description' => 'Python стал одним из самых популярных языков программирования. В этом посте мы поделимся советами для эффективного изучения Python.', 'id' => '1'],
            ['title' => 'Мифы о машинном обучении', 'description' => 'Разбираем распространенные заблуждения и мифы о машинном обучении.', 'id' => '1'],
            ['title' => 'Руководство по созданию RESTful API', 'description' => 'Пошаговое руководство по созданию эффективного и безопасного RESTful API для вашего веб-приложения.', 'id' => '1'],
            ['title' => 'Как защитить свой сайт от хакеров', 'description' => 'Практические советы по обеспечению безопасности вашего веб-сайта и защите от наиболее распространенных атак.', 'id' => '1'],
            ['title' => 'Будущее фронтенд-разработки', 'description' => 'Анализ трендов и перспектив развития фронтенд-разработки в ближайшие годы.', 'id' => '1'],
            ['title' => 'Принципы SOLID в программировании', 'description' => 'Глубокое погружение в принципы SOLID и их значение для создания масштабируемого и поддерживаемого кода.', 'id' => '1'],
            ['title' => 'Введение в блокчейн-технологии', 'description' => 'Основы блокчейна: как работают блокчейн-технологии и в каких областях они находят применение.', 'id' => '1'],
            ['title' => 'Разработка мобильных приложений для Android и iOS', 'description' => 'Сравнение платформ для разработки мобильных приложений и советы по выбору подходящего инструмента для вашего проекта.', 'id' => '1'],
            ['title' => 'Топ 10 инструментов для дизайнера', 'description' => 'Обзор лучших инструментов и программ для профессионального дизайна.', 'id' => '2'],
            ['title' => 'Принципы веб-дизайна: от простого к сложному', 'description' => 'Основные принципы веб-дизайна с примерами и практическими советами.', 'id' => '2'],
            ['title' => 'Графический дизайн: основы и техники', 'description' => 'Введение в графический дизайн и его основные техники и приемы.', 'id' => '2'],
            ['title' => 'Выбор цветовой палитры для дизайна', 'description' => 'Практические советы по выбору цветовой гаммы для вашего дизайн-проекта.', 'id' => '2'],
            ['title' => 'Тенденции в дизайне интерфейсов', 'description' => 'Анализ последних тенденций в дизайне интерфейсов и их влияние на пользовательский опыт.', 'id' => '2'],
            ['title' => 'Дизайн для мобильных устройств: особенности и советы', 'description' => 'Основные принципы дизайна для мобильных устройств и советы по его улучшению.', 'id' => '2'],
            ['title' => 'Искусство типографики в веб-дизайне', 'description' => 'Роль типографики в создании уникального и привлекательного веб-дизайна.', 'id' => '2'],
            ['title' => 'UX/UI дизайн: различия и сходства', 'description' => 'Ключевые аспекты пользовательского и интерфейсного дизайна и их взаимосвязь.', 'id' => '2'],
            ['title' => 'Дизайн логотипов: секреты успешного брендинга', 'description' => 'Практические советы по созданию эффективных логотипов и разработке собственного бренда.', 'id' => '2'],
            ['title' => 'Как создать портфолио дизайнера', 'description' => 'Шаг за шагом руководство по созданию впечатляющего портфолио для дизайнера.', 'id' => '2'],
        ];

        foreach ($postsData as $postData) {
            DB::table('posts')->insert([
                'user_id' => $users[array_rand($users)],
                'community_id' => $postData['id'],
                'title' => $postData['title'],
                'slug' => Str::slug($postData['title'], '-'),
                'description' => $postData['description'],
                'image' => null, // Можете добавить логику для изображений, если нужно
                'votes' => rand(-100, 100),
                'created_at' => now(),
                'updated_at' => now(),
            ]);
        }
    }
}
